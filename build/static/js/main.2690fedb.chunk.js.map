{"version":3,"sources":["components/Modal/Modal.module.css","components/App.module.css","components/Button/Button.module.css","components/services/images-api.jsx","components/SearchBar/SearchBar.jsx","components/Loader/Loader.jsx","components/ImageGallery/ImageGalleryItem.jsx","components/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/App.jsx","index.js","components/SearchBar/SearchBar.module.css","components/ImageGallery/ImageGalleryItem.module.css"],"names":["module","exports","fetchImages","query","page","axios","get","SearchBar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","onSubmit","props","this","className","styles","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","placeholder","onChange","Component","Loader","color","height","width","ImageGalleryItem","picture","webformatURL","largeImageURL","src","alt","ImageGalleryItemImage","Modal","onClose","Overlay","onClick","role","ImageGallery","isModalOpen","openModal","currentTarget","URL","closeModal","code","window","addEventListener","removeEventListener","pictures","map","pic","key","id","Button","onLoadMore","App","items","searchQuery","pageNumber","isLoading","SubmitSearchBar","text","onSearch","scrollHeight","document","documentElement","fetch","then","res","data","hits","catch","error","console","log","finally","scrollTo","top","behavior","prevProps","prevState","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.2690fedb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3BLzm\",\"Modal\":\"Modal_Modal__3LfeR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1cRtZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1wgwI\"};","import axios from 'axios';\n\nconst KEY = '14352220-777927f32e4bda0aacdcec250';\nconst URL = `https://pixabay.com/api/`;\n\nexport const fetchImages = (query, page) => {\n  return axios.get(\n    `${URL}?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n};\n\nexport const dummy = () => null;\n","import React, { Component } from 'react';\nimport T from 'prop-types';\nimport styles from './SearchBar.module.css';\n\nexport default class SearchBar extends Component {\n  static propTypes = {\n    onSubmit: T.func.isRequired,\n  };\n\n  state = {\n    inputValue: '',\n  };\n\n  handleChange = e => {\n    this.setState({\n      inputValue: e.target.value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { inputValue } = this.state;\n    const { onSubmit } = this.props;\n    onSubmit(inputValue);\n\n    this.setState({\n      inputValue: '',\n    });\n  };\n\n  render() {\n    const { inputValue } = this.state;\n\n    return (\n      <header className={styles.SearchBar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            // autoFocus\n            placeholder=\"Search images and photos\"\n            value={inputValue}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport LoaderItem from 'react-loader-spinner';\n\nconst Loader = () => {\n  return (\n    <div>\n      <LoaderItem type=\"Plane\" color=\"red\" height={50} width={100} />\n    </div>\n  );\n};\n\nexport default Loader;\n","import React from 'react';\nimport T from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ picture: { webformatURL, largeImageURL } }) => (\n  <li className={styles.ImageGalleryItem}>\n    <img\n      src={webformatURL}\n      alt={largeImageURL}\n      className={styles.ImageGalleryItemImage}\n    />\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  picture: T.shape({\n    webformatURL: T.string.isRequired,\n    largeImageURL: T.string.isRequired,\n  }).isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport T from 'prop-types';\nimport styles from './Modal.module.css';\n\nconst Modal = ({ largeImageURL, onClose }) => (\n  <div className={styles.Overlay} onClick={onClose} role=\"presentation\">\n    <div className={styles.Modal}>\n      <img src={largeImageURL} alt=\"\" />\n    </div>\n  </div>\n);\n\nModal.propTypes = {\n  largeImageURL: T.string.isRequired,\n  onClose: T.func.isRequired,\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport T from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport Modal from '../Modal/Modal';\n\nclass ImageGallery extends Component {\n  static propTypes = {\n    pictures: T.arrayOf(T.shape({}).isRequired).isRequired,\n  };\n\n  state = {\n    isModalOpen: false,\n    largeImageURL: null,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.closeModal);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.closeModal);\n  }\n\n  openModal = e => {\n    if (e.currentTarget !== e.target) {\n      const URL = e.target.alt;\n      this.setState({ isModalOpen: true, largeImageURL: URL });\n    }\n  };\n\n  closeModal = e => {\n    if (e.code === 'Escape' || e.currentTarget === e.target) {\n      this.setState({ isModalOpen: false });\n    }\n  };\n\n  render() {\n    const { isModalOpen, largeImageURL } = this.state;\n    const { pictures } = this.props;\n\n    return (\n      <>\n        <ul className={styles.ImageGallery} onClick={this.openModal} role=\"presentation\">\n          {pictures.map(pic => (\n            <ImageGalleryItem key={pic.id} picture={pic} />\n          ))}\n        </ul>\n        {isModalOpen && <Modal largeImageURL={largeImageURL} onClose={this.closeModal} />}\n      </>\n    );\n  }\n}\nexport default ImageGallery;\n","import React from 'react';\nimport T from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ onLoadMore }) => (\n  <button type=\"button\" onClick={onLoadMore} className={styles.Button}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onLoadMore: T.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport styles from './App.module.css';\nimport * as fetch from './services/images-api';\nimport SearchBar from './SearchBar/SearchBar';\nimport Loader from './Loader/Loader';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Button from './Button/Button';\n\nexport default class App extends Component {\n  state = {\n    items: [],\n    searchQuery: '',\n    pageNumber: 1,\n    isLoading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, pageNumber } = this.state;\n    if (prevState.searchQuery !== searchQuery || prevState.pageNumber !== pageNumber) {\n      this.onSearch(searchQuery, pageNumber);\n    }\n  }\n\n  SubmitSearchBar = text => {\n    this.setState({\n      searchQuery: text,\n      items: [],\n      pageNumber: 1,\n    });\n  };\n\n  onSearch = (searchQuery, pageNumber) => {\n    const { scrollHeight } = document.documentElement;\n\n    this.setState({\n      isLoading: true,\n    });\n\n    fetch\n      .fetchImages(searchQuery, pageNumber)\n      .then(res =>\n        this.setState(state => ({\n          items: [...state.items, ...res.data.hits],\n        })),\n      )\n      .catch(error => console.log(error))\n      .finally(() => {\n        window.scrollTo({\n          top: scrollHeight,\n          behavior: 'smooth',\n        });\n\n        this.setState({\n          isLoading: false,\n        });\n      });\n  };\n\n  onLoadMore = () => {\n    this.setState(state => ({\n      pageNumber: state.pageNumber + 1,\n    }));\n  };\n\n  render() {\n    const { items, isLoading } = this.state;\n    return (\n      <div className={styles.App}>\n        <SearchBar onSubmit={this.SubmitSearchBar} />\n        <ImageGallery pictures={items} />\n        {isLoading && <Loader />}\n        {items.length > 0 && <Button onLoadMore={this.onLoadMore} />}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport 'normalize.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchBar\":\"SearchBar_SearchBar__2Xpsz\",\"SearchForm\":\"SearchBar_SearchForm__1Vuk8\",\"SearchFormButton\":\"SearchBar_SearchFormButton__2J51H\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__IZfCe\",\"SearchFormInput\":\"SearchBar_SearchFormInput__3du3z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__13Go7\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3Cuxf\",\"ImageGallery\":\"ImageGalleryItem_ImageGallery__2Sq4H\"};"],"sourceRoot":""}